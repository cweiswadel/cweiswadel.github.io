<!DOCTYPE html>
<html>
    <title> listContentTEST -- CWEISWADEL.GITHUB>IO</title>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <h1>Listing Content from the Git Hub Repo</h1>
    <!-- <div id="listContent"></div>
    <script src="./util/listContentGitAPI.js"></script> -->

    <h4> Raw String output of request</h4>
    <div id="scriptGitHub"></div>
    <div id="listContent_outStr"></div>
    <div id="listContent_arrNames"></div>
    <script type="module" id="apiCallScript"> 
        import { request } from "https://cdn.skypack.dev/@octokit/request"; 
        const ghOwner = "cweiswadel", ghRepo = "cweiswadel.github.io";

        const reqRes = await request('GET /repos/{owner}/{repo}/contents/{path}', {
            owner: ghOwner,
            repo: ghRepo
        })    
        
        const outObj = reqRes.data;
        var outStr = JSON.stringify(outObj, null, 2); // spacing level = 2 & pretty printing for JSON 
        
        var arrNames = [];
        var contentName = outObj.forEach(function(obj){
            arrNames.push(obj.name);
        });
        
        
        document.getElementById('listContent_outStr').innerHTML = outStr;
        document.getElementById('listContent_arrNames').innerHTML = arrNames;
        console.log(arrNames);
        
    </script>

</body>

<div id="homeButton"></div>
<script src="./util/goHome.js"></script>

</html>